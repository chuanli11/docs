<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.run.ai/Researcher/scheduling/the-runai-scheduler/ rel=canonical><link rel="shortcut icon" href=../../../images/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.3"><title>The Run:AI Scheduler - Run:AI Documentation Library</title><link rel=stylesheet href=../../../assets/stylesheets/main.3b61ea93.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.39b8e14a.min.css><!-- Start of runai Zendesk Widget script --><script id=ze-snippet src="https://static.zdassets.com/ekr/snippet.js?key=10c42c25-a684-4ac3-b45f-c9c03276af95"> </script><!-- End of runai Zendesk Widget script --><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-122651141-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property=og:title content="The Run:AI Scheduler"><meta property=og:description content=" | Introduction |    | Terminology |   Workload Types.     Projects.     Departments.     Pods.      | Basic Scheduling Concepts |   Interactive, Training and Inference.     Guaranteed Quota and Over-Quota.      | Scheduler Details |   Allocation & Preemption.     Node Affinity.     Reclaim.     Fairness.     Bin-packing & Consolidation.     Elasticity.      | Advanced |   GPU Fractions.     Distributed Training.     Hyperparameter Optimization.     "><meta property=og:image content=https://docs.run.ai/home/img/runaai-log-100.jpg></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#introduction class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://docs.run.ai/ title="Run:AI Documentation Library" class="md-header-nav__button md-logo" aria-label="Run:AI Documentation Library"> <img src=../../../images/runai-logo2.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Run:AI Documentation Library </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> The Run:AI Scheduler </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/run-ai/docs/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../admin/overview-administrator/ class=md-tabs__link> Administrator </a> </li> <li class=md-tabs__item> <a href=../../overview-researcher/ class="md-tabs__link md-tabs__link--active"> Researcher </a> </li> <li class=md-tabs__item> <a href=../../../developer/overview-developer/ class=md-tabs__link> Developer </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://docs.run.ai/ title="Run:AI Documentation Library" class="md-nav__button md-logo" aria-label="Run:AI Documentation Library"> <img src=../../../images/runai-logo2.svg alt=logo> </a> Run:AI Documentation Library </label> <div class=md-nav__source> <a href=https://github.com/run-ai/docs/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Home <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Home data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../home/components/ class=md-nav__link> System Components </a> </li> <li class=md-nav__item> <a href=../../../home/whats-new-2021/ class=md-nav__link> Whats New 2021 </a> </li> <li class=md-nav__item> <a href=../../../home/whats-new-2020/ class=md-nav__link> Whats New 2020 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Administrator <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Administrator data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Administrator </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/overview-administrator/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> Run:AI Setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Run:AI Setup" data-md-level=2> <label class=md-nav__title for=nav-2-2> <span class="md-nav__icon md-icon"></span> Run:AI Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/runai-setup/installation-types/ class=md-nav__link> Installation Types </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-2 type=checkbox id=nav-2-2-2> <label class=md-nav__link for=nav-2-2-2> Classic (SaaS) <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Classic (SaaS)" data-md-level=3> <label class=md-nav__title for=nav-2-2-2> <span class="md-nav__icon md-icon"></span> Classic (SaaS) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/cluster-setup-intro/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/cluster-prerequisites/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/cluster-install/ class=md-nav__link> Cluster Install </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/customize-cluster-install/ class=md-nav__link> Customize Installation </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/cluster-upgrade/ class=md-nav__link> Cluster Upgrade </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/cluster-delete/ class=md-nav__link> Cluster Delete </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/install-k8s/ class=md-nav__link> Kubernetes Install </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/single-node-install/ class=md-nav__link> Quick Single Node Install </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/cluster-troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/researcher-authentication/ class=md-nav__link> Authentication and Authorization </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/cluster-setup/nvidia/ class=md-nav__link> NVIDIA Drivers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-3 type=checkbox id=nav-2-2-3> <label class=md-nav__link for=nav-2-2-3> Self-hosted <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Self-hosted data-md-level=3> <label class=md-nav__title for=nav-2-2-3> <span class="md-nav__icon md-icon"></span> Self-hosted </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-3-2 type=checkbox id=nav-2-2-3-2> <label class=md-nav__link for=nav-2-2-3-2> Kubernetes-based <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kubernetes-based data-md-level=4> <label class=md-nav__title for=nav-2-2-3-2> <span class="md-nav__icon md-icon"></span> Kubernetes-based </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/k8s/prerequisites/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/k8s/preparations/ class=md-nav__link> Preperations </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/k8s/backend/ class=md-nav__link> Install Backend </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/k8s/cluster/ class=md-nav__link> Install a Cluster </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/k8s/ui/ class=md-nav__link> Configure Web Interfaces </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/k8s/project-management/ class=md-nav__link> Create Run:AI Projects </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/k8s/researcher-authentication/ class=md-nav__link> Authentication </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/k8s/upgrade/ class=md-nav__link> Upgrade </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/k8s/uninstall/ class=md-nav__link> Uninstall </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-3-3 type=checkbox id=nav-2-2-3-3> <label class=md-nav__link for=nav-2-2-3-3> OpenShift-based <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=OpenShift-based data-md-level=4> <label class=md-nav__title for=nav-2-2-3-3> <span class="md-nav__icon md-icon"></span> OpenShift-based </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/ocp/prerequisites/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/ocp/preparations/ class=md-nav__link> Preperations </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/ocp/ocp-dependencies/ class=md-nav__link> Install Dependencies </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/ocp/backend/ class=md-nav__link> Install Backend </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/ocp/cluster/ class=md-nav__link> Install a Cluster </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/ocp/project-management/ class=md-nav__link> Create Run:AI Projects </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/ocp/upgrade/ class=md-nav__link> Upgrade </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/ocp/uninstall/ class=md-nav__link> Uninstall </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/self-hosted/dr/ class=md-nav__link> Disaster Recovery </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2-4 type=checkbox id=nav-2-2-4> <label class=md-nav__link for=nav-2-2-4> Advanced <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Advanced data-md-level=3> <label class=md-nav__title for=nav-2-2-4> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/runai-setup/advanced/allow-external-access-to-containers/ class=md-nav__link> Allow external access to Containers </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/advanced/access-roles/ class=md-nav__link> Understanding Cluster Access Roles </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/advanced/non-root-containers/ class=md-nav__link> User Identity in Container </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/advanced/node-downtime/ class=md-nav__link> Node Downtime </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/advanced/node-roles/ class=md-nav__link> Set Node Roles </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/advanced/cli-admin-install/ class=md-nav__link> Install Administrator CLI </a> </li> <li class=md-nav__item> <a href=../../../admin/runai-setup/advanced/kubernetes-config-best-practices/ class=md-nav__link> Kubernetes Best Practices </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-3 type=checkbox id=nav-2-3> <label class=md-nav__link for=nav-2-3> Researcher Setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Researcher Setup" data-md-level=2> <label class=md-nav__title for=nav-2-3> <span class="md-nav__icon md-icon"></span> Researcher Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/researcher-setup/researcher-setup-intro/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../admin/researcher-setup/cli-install/ class=md-nav__link> Install the CLI </a> </li> <li class=md-nav__item> <a href=../../../admin/researcher-setup/cli-troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../admin/researcher-setup/researcher-ui-setup/ class=md-nav__link> Researcher UI </a> </li> <li class=md-nav__item> <a href=../../../admin/researcher-setup/docker-registry-config/ class=md-nav__link> Use a Docker Registry with Credentials </a> </li> <li class=md-nav__item> <a href=../../../admin/researcher-setup/docker-to-runai/ class=md-nav__link> Switch from Docker to Run:AI </a> </li> <li class=md-nav__item> <a href=../../../admin/researcher-setup/limit-to-node-group/ class=md-nav__link> Group Nodes </a> </li> <li class=md-nav__item> <a href=../../../admin/researcher-setup/use-secrets/ class=md-nav__link> Use Secrets in Jobs </a> </li> <li class=md-nav__item> <a href=../../../admin/researcher-setup/templates/ class=md-nav__link> Templates </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-4 type=checkbox id=nav-2-4> <label class=md-nav__link for=nav-2-4> Admin UI <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Admin UI" data-md-level=2> <label class=md-nav__title for=nav-2-4> <span class="md-nav__icon md-icon"></span> Admin UI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/admin-ui-setup/admin-ui-users/ class=md-nav__link> Users </a> </li> <li class=md-nav__item> <a href=../../../admin/admin-ui-setup/project-setup/ class=md-nav__link> Projects </a> </li> <li class=md-nav__item> <a href=../../../admin/admin-ui-setup/department-setup/ class=md-nav__link> Departments </a> </li> <li class=md-nav__item> <a href=../../../admin/admin-ui-setup/dashboard-analysis/ class=md-nav__link> Dashboard Analysis </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-5 type=checkbox id=nav-2-5> <label class=md-nav__link for=nav-2-5> Integrations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Integrations data-md-level=2> <label class=md-nav__title for=nav-2-5> <span class="md-nav__icon md-icon"></span> Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/integration/jupyterhub/ class=md-nav__link> JupyterHub </a> </li> <li class=md-nav__item> <a href=../../../admin/integration/airflow/ class=md-nav__link> Airflow </a> </li> <li class=md-nav__item> <a href=../../../admin/integration/mlflow/ class=md-nav__link> MLflow </a> </li> <li class=md-nav__item> <a href=../../../admin/integration/kubeflow/ class=md-nav__link> Kubeflow </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-6 type=checkbox id=nav-2-6> <label class=md-nav__link for=nav-2-6> Presentations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Presentations data-md-level=2> <label class=md-nav__title for=nav-2-6> <span class="md-nav__icon md-icon"></span> Presentations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../admin/presentations/administrator-onboarding-presentation/ class=md-nav__link> Admin Onboarding </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Researcher <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Researcher data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> Researcher </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../overview-researcher/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> Quickstart Guides <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Quickstart Guides" data-md-level=2> <label class=md-nav__title for=nav-3-2> <span class="md-nav__icon md-icon"></span> Quickstart Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Walkthroughs/quickstart-overview/ class=md-nav__link> Run:AI Quickstart Guides </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/walkthrough-train/ class=md-nav__link> Training </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/walkthrough-build/ class=md-nav__link> Build </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/walkthrough-build-ports/ class=md-nav__link> Build with Connected Ports </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/walkthrough-fractions/ class=md-nav__link> GPU Fractions </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/walkthrough-distributed-training/ class=md-nav__link> Distributed Training Workloads </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/walkthrough-hpo/ class=md-nav__link> Hyperparameter Optimization </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/walkthrough-overquota/ class=md-nav__link> Over-Quota, Basic Fairness & Bin-Packing </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/walkthrough-queue-fairness/ class=md-nav__link> Queue Fairness </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/walkthrough-elasticity/ class=md-nav__link> Elasticity </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/quickstart-inference/ class=md-nav__link> Inference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3> <label class=md-nav__link for=nav-3-3> CLI Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="CLI Reference" data-md-level=2> <label class=md-nav__title for=nav-3-3> <span class="md-nav__icon md-icon"></span> CLI Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli-reference/Introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-attach/ class=md-nav__link> runai attach </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-bash/ class=md-nav__link> runai bash </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-config/ class=md-nav__link> runai config </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-delete/ class=md-nav__link> runai delete </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-describe/ class=md-nav__link> runai describe </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-exec/ class=md-nav__link> runai exec </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-list/ class=md-nav__link> runai list </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-login/ class=md-nav__link> runai login </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-logout/ class=md-nav__link> runai logout </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-logs/ class=md-nav__link> runai logs </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-resume/ class=md-nav__link> runai resume </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-submit/ class=md-nav__link> runai submit </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-submit-mpi/ class=md-nav__link> runai submit-mpi </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-suspend/ class=md-nav__link> runai suspend </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-template/ class=md-nav__link> runai template </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-top-node/ class=md-nav__link> runai top node </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-top-job/ class=md-nav__link> runai top job </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-update/ class=md-nav__link> runai update </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-version/ class=md-nav__link> runai version </a> </li> <li class=md-nav__item> <a href=../../cli-reference/runai-whoami/ class=md-nav__link> runai whoami </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4 type=checkbox id=nav-3-4> <label class=md-nav__link for=nav-3-4> Best Practices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Best Practices" data-md-level=2> <label class=md-nav__title for=nav-3-4> <span class="md-nav__icon md-icon"></span> Best Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../best-practices/bare-metal-to-docker-images/ class=md-nav__link> Bare-Metal to Docker Images </a> </li> <li class=md-nav__item> <a href=../../best-practices/convert-to-unattended/ class=md-nav__link> Convert a Workload to Run Unattended </a> </li> <li class=md-nav__item> <a href=../../best-practices/save-dl-checkpoints/ class=md-nav__link> Save Deep Learning Checkpoints </a> </li> <li class=md-nav__item> <a href=../../best-practices/env-variables/ class=md-nav__link> Environment Variables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-5 type=checkbox id=nav-3-5 checked> <label class=md-nav__link for=nav-3-5> Scheduling <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Scheduling data-md-level=2> <label class=md-nav__title for=nav-3-5> <span class="md-nav__icon md-icon"></span> Scheduling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../allocation-of-cpu-and-memory/ class=md-nav__link> Allocation of CPU and Memory </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> The Run:AI Scheduler <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> The Run:AI Scheduler </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#terminology class=md-nav__link> Terminology </a> <nav class=md-nav aria-label=Terminology> <ul class=md-nav__list> <li class=md-nav__item> <a href=#workload-types class=md-nav__link> Workload Types </a> </li> <li class=md-nav__item> <a href=#projects class=md-nav__link> Projects </a> </li> <li class=md-nav__item> <a href=#departments class=md-nav__link> Departments </a> </li> <li class=md-nav__item> <a href=#pods class=md-nav__link> Pods </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#basic-scheduling-concepts class=md-nav__link> Basic Scheduling Concepts </a> <nav class=md-nav aria-label="Basic Scheduling Concepts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#interactive-training-and-inference class=md-nav__link> Interactive, Training and Inference </a> </li> <li class=md-nav__item> <a href=#guaranteed-quota-and-over-quota class=md-nav__link> Guaranteed Quota and Over-Quota </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scheduler-details class=md-nav__link> Scheduler Details </a> <nav class=md-nav aria-label="Scheduler Details"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#allocation-preemption class=md-nav__link> Allocation &amp; Preemption </a> </li> <li class=md-nav__item> <a href=#node-affinity class=md-nav__link> Node Affinity </a> </li> <li class=md-nav__item> <a href=#reclaim class=md-nav__link> Reclaim </a> </li> <li class=md-nav__item> <a href=#fairness class=md-nav__link> Fairness </a> </li> <li class=md-nav__item> <a href=#bin-packing-consolidation class=md-nav__link> Bin-packing &amp; Consolidation </a> </li> <li class=md-nav__item> <a href=#elasticity class=md-nav__link> Elasticity </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced class=md-nav__link> Advanced </a> <nav class=md-nav aria-label=Advanced> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gpu-fractions class=md-nav__link> GPU Fractions </a> </li> <li class=md-nav__item> <a href=#distributed-training class=md-nav__link> Distributed Training </a> </li> <li class=md-nav__item> <a href=#hyperparameter-optimization class=md-nav__link> Hyperparameter Optimization </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../job-statuses/ class=md-nav__link> Job Statuses </a> </li> <li class=md-nav__item> <a href=../auto-delete-jobs/ class=md-nav__link> Automatically Delete Finished Workloads </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-6 type=checkbox id=nav-3-6> <label class=md-nav__link for=nav-3-6> Researcher Library <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Researcher Library" data-md-level=2> <label class=md-nav__title for=nav-3-6> <span class="md-nav__icon md-icon"></span> Researcher Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../researcher-library/researcher-library-overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../researcher-library/rl-elasticity/ class=md-nav__link> Elasticity </a> </li> <li class=md-nav__item> <a href=../../researcher-library/rl-reporting/ class=md-nav__link> Reporting </a> </li> <li class=md-nav__item> <a href=../../researcher-library/rl-hpo-support/ class=md-nav__link> HPO </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-7 type=checkbox id=nav-3-7> <label class=md-nav__link for=nav-3-7> Tools <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tools data-md-level=2> <label class=md-nav__title for=nav-3-7> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tools/dev-vscode/ class=md-nav__link> Visual Studio Code </a> </li> <li class=md-nav__item> <a href=../../tools/dev-pycharm/ class=md-nav__link> PyCharm </a> </li> <li class=md-nav__item> <a href=../../tools/dev-x11forward-pycharm/ class=md-nav__link> X11 & PyCharm </a> </li> <li class=md-nav__item> <a href=../../tools/dev-jupyter/ class=md-nav__link> Jupyter Noteook </a> </li> <li class=md-nav__item> <a href=../../tools/dev-tensorboard/ class=md-nav__link> TensorBoard </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-8 type=checkbox id=nav-3-8> <label class=md-nav__link for=nav-3-8> Presentations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Presentations data-md-level=2> <label class=md-nav__title for=nav-3-8> <span class="md-nav__icon md-icon"></span> Presentations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../presentations/researcher-onboarding-presentation/ class=md-nav__link> Researcher Onboarding </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Developer <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Developer data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Developer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../developer/overview-developer/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-2 type=checkbox id=nav-4-2> <label class=md-nav__link for=nav-4-2> Researcher REST API <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Researcher REST API" data-md-level=2> <label class=md-nav__title for=nav-4-2> <span class="md-nav__icon md-icon"></span> Researcher REST API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../developer/researcher-rest-api/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../developer/researcher-rest-api/rest-submit/ class=md-nav__link> Submit a Job </a> </li> <li class=md-nav__item> <a href=../../../developer/researcher-rest-api/rest-delete/ class=md-nav__link> Delete a Job </a> </li> <li class=md-nav__item> <a href=../../../developer/researcher-rest-api/rest-list-jobs/ class=md-nav__link> Get a list of Jobs </a> </li> <li class=md-nav__item> <a href=../../../developer/researcher-rest-api/rest-list-projects/ class=md-nav__link> Get a list of Projects </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-3 type=checkbox id=nav-4-3> <label class=md-nav__link for=nav-4-3> Researcher Kubernetes API <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Researcher Kubernetes API" data-md-level=2> <label class=md-nav__title for=nav-4-3> <span class="md-nav__icon md-icon"></span> Researcher Kubernetes API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../developer/k8s-api/launch-job-via-yaml/ class=md-nav__link> Submit a Job via YAML </a> </li> <li class=md-nav__item> <a href=../../../developer/k8s-api/launch-job-via-kubernetes-api/ class=md-nav__link> Submit a Job via Kubernetes API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-4 type=checkbox id=nav-4-4> <label class=md-nav__link for=nav-4-4> Administrator REST API <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Administrator REST API" data-md-level=2> <label class=md-nav__title for=nav-4-4> <span class="md-nav__icon md-icon"></span> Administrator REST API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../developer/admin-rest-api/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../developer/admin-rest-api/projects/ class=md-nav__link> Projects </a> </li> <li class=md-nav__item> <a href=../../../developer/admin-rest-api/departments/ class=md-nav__link> Departments </a> </li> <li class=md-nav__item> <a href=../../../developer/admin-rest-api/users/ class=md-nav__link> Users </a> </li> <li class=md-nav__item> <a href=../../../developer/admin-rest-api/node-types/ class=md-nav__link> Node Types </a> </li> <li class=md-nav__item> <a href=../../../developer/admin-rest-api/clusters/ class=md-nav__link> Clusters </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-5 type=checkbox id=nav-4-5> <label class=md-nav__link for=nav-4-5> Inference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Inference data-md-level=2> <label class=md-nav__title for=nav-4-5> <span class="md-nav__icon md-icon"></span> Inference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../developer/inference/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../developer/inference/setup/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../../developer/inference/submit-via-cli/ class=md-nav__link> Submit via CLI </a> </li> <li class=md-nav__item> <a href=../../../developer/inference/submit-via-yaml/ class=md-nav__link> Submit via YAML </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-6 type=checkbox id=nav-4-6> <label class=md-nav__link for=nav-4-6> Metrics API <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Metrics API" data-md-level=2> <label class=md-nav__title for=nav-4-6> <span class="md-nav__icon md-icon"></span> Metrics API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../developer/metrics/metrics/ class=md-nav__link> Metrics </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#terminology class=md-nav__link> Terminology </a> <nav class=md-nav aria-label=Terminology> <ul class=md-nav__list> <li class=md-nav__item> <a href=#workload-types class=md-nav__link> Workload Types </a> </li> <li class=md-nav__item> <a href=#projects class=md-nav__link> Projects </a> </li> <li class=md-nav__item> <a href=#departments class=md-nav__link> Departments </a> </li> <li class=md-nav__item> <a href=#pods class=md-nav__link> Pods </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#basic-scheduling-concepts class=md-nav__link> Basic Scheduling Concepts </a> <nav class=md-nav aria-label="Basic Scheduling Concepts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#interactive-training-and-inference class=md-nav__link> Interactive, Training and Inference </a> </li> <li class=md-nav__item> <a href=#guaranteed-quota-and-over-quota class=md-nav__link> Guaranteed Quota and Over-Quota </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scheduler-details class=md-nav__link> Scheduler Details </a> <nav class=md-nav aria-label="Scheduler Details"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#allocation-preemption class=md-nav__link> Allocation &amp; Preemption </a> </li> <li class=md-nav__item> <a href=#node-affinity class=md-nav__link> Node Affinity </a> </li> <li class=md-nav__item> <a href=#reclaim class=md-nav__link> Reclaim </a> </li> <li class=md-nav__item> <a href=#fairness class=md-nav__link> Fairness </a> </li> <li class=md-nav__item> <a href=#bin-packing-consolidation class=md-nav__link> Bin-packing &amp; Consolidation </a> </li> <li class=md-nav__item> <a href=#elasticity class=md-nav__link> Elasticity </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced class=md-nav__link> Advanced </a> <nav class=md-nav aria-label=Advanced> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gpu-fractions class=md-nav__link> GPU Fractions </a> </li> <li class=md-nav__item> <a href=#distributed-training class=md-nav__link> Distributed Training </a> </li> <li class=md-nav__item> <a href=#hyperparameter-optimization class=md-nav__link> Hyperparameter Optimization </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/run-ai/docs/edit/master/docs/Researcher/scheduling/the-runai-scheduler.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>The Run:AI Scheduler</h1> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>At the heart of the Run:AI solution is the Run:AI scheduler. The scheduler is the gatekeeper of your organization's hardware resources. It makes decisions on resource allocations according to pre-created rules.</p> <p>The purpose of this document is to describe the Run:AI scheduler and explain how resource management works.</p> <h2 id=terminology>Terminology<a class=headerlink href=#terminology title="Permanent link">&para;</a></h2> <h3 id=workload-types>Workload Types<a class=headerlink href=#workload-types title="Permanent link">&para;</a></h3> <p>Run:AI differentiates between two types of deep learning workloads:</p> <ul> <li><strong>Interactive</strong> build workloads. With these types of workloads, the data scientist opens an interactive session, via bash, Jupyter notebook, remote PyCharm, or similar and accesses GPU resources directly. Build workloads typically do not tax the GPU for a long duration. There are also typically real users behind an interactive workload that need an immediate scheduling response.</li> <li> <p><strong>Unattended</strong> (or "non-interactive") training workloads.Training is characterized by a deep learning run that has a start and a finish. With these types of workloads, the data scientist prepares a self-running workload and sends it for execution. Training workloads typically utilize large percentages of the GPU. During the execution, the Researcher can examine the results. A Training session can take anything from a few minutes to a couple of weeks. It can be interrupted in the middle and later restored. <br> It follows that a good practice for the Researcher is to save checkpoints and allow the code to restore from the last checkpoint.</p> </li> <li> <p><strong>Inference</strong> workloads. These are production workloads that serve requests. The Run:AI scheduler treats these workloads as <em>Interactive</em> workloads.</p> </li> </ul> <h3 id=projects>Projects<a class=headerlink href=#projects title="Permanent link">&para;</a></h3> <p>Projects are quota entities that associate a Project name with a <strong>deserved</strong> GPU quota as well as other preferences.</p> <p>A Researcher submitting a workload must associate a Project with any workload request. The Run:AI scheduler will then compare the request against the current allocations and the Project's deserved quota and determine whether the workload can be allocated with resources or whether it should remain in a pending state.</p> <p>For further information on Projects and how to configure them, see: <a href=../../../admin/admin-ui-setup/project-setup/ >Working with Projects</a></p> <h3 id=departments>Departments<a class=headerlink href=#departments title="Permanent link">&para;</a></h3> <p>A <em>Department</em> is the second hierarchy of resource allocation above <em>Project</em>. A Department quota supersedes a Project quota in the sense that if the sum of Project quotas for Department A exceeds the Department quota -- the scheduler will use the Department quota rather than the Project quota. </p> <p>For further information on Departments and how to configure them, see: <a href=../../../admin/admin-ui-setup/department-setup/ >Working with Departments</a></p> <h3 id=pods>Pods<a class=headerlink href=#pods title="Permanent link">&para;</a></h3> <p><em>Pods</em> are units of work within a Job. </p> <ul> <li>Typically, each Job has a single Pod. However, in some scenarios (see Hyperparameter Optimization and Distribute Training below) there will be multiple Pods per Job. </li> <li>All Pods execute with the same arguments as added via <code>runai submit</code>. E.g. The same image name, the same code script, the same number of Allocated GPUs, memory.</li> </ul> <h2 id=basic-scheduling-concepts>Basic Scheduling Concepts<a class=headerlink href=#basic-scheduling-concepts title="Permanent link">&para;</a></h2> <h3 id=interactive-training-and-inference>Interactive, Training and Inference<a class=headerlink href=#interactive-training-and-inference title="Permanent link">&para;</a></h3> <p>The Researcher uses the <em>--interactive</em> flag to specify whether the workload is an unattended "train" workload or an interactive "build" workload.</p> <ul> <li>Interactive &amp; Inference workloads will get precedence over training workloads.</li> <li>Training workloads can be preempted when the scheduler determines a more urgent need for resources. Interactive workloads are never preempted.</li> </ul> <h3 id=guaranteed-quota-and-over-quota>Guaranteed Quota and Over-Quota<a class=headerlink href=#guaranteed-quota-and-over-quota title="Permanent link">&para;</a></h3> <p>Every new workload is associated with a Project. The Project contains a deserved GPU quota. During scheduling:</p> <ul> <li>If the newly required resources, together with currently used resources, end up within the Project's quota, then the workload is ready to be scheduled as part of the guaranteed quota.</li> <li>If the newly required resources together with currently used resources end up above the Project's quota, the workload will only be scheduled if there are 'spare' GPU resources. There are nuances in this flow that are meant to ensure that a Project does not end up with an over-quota made fully of interactive workloads. For additional details see below</li> </ul> <h2 id=scheduler-details>Scheduler Details<a class=headerlink href=#scheduler-details title="Permanent link">&para;</a></h2> <h3 id=allocation-preemption>Allocation &amp; Preemption<a class=headerlink href=#allocation-preemption title="Permanent link">&para;</a></h3> <p>The Run:AI scheduler wakes up periodically to perform allocation tasks on pending workloads:</p> <ul> <li>The scheduler looks at each Project separately and selects the most 'deprived' Project.</li> <li> <p>For this deprived Project it chooses a single workload to work on:</p> <ul> <li>Interactive &amp; Inference workloads are tried first, but only up to the Project's guaranteed quota. If such a workload exists, it is scheduled even if it means <strong>preempting</strong> a running unattended workload in this Project.</li> <li>Else, it looks for an unattended workload and schedules it on guaranteed quota or over-quota.</li> </ul> </li> <li> <p>The scheduler then recalculates the next 'deprived' Project and continues with the same flow until it finishes attempting to schedule all workloads</p> </li> </ul> <h3 id=node-affinity>Node Affinity<a class=headerlink href=#node-affinity title="Permanent link">&para;</a></h3> <p>Both the Administrator and the Researcher can provide limitations as to which nodes can be selected for the Job. Limits are managed via <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ target=_blank>Kubernetes labels</a>:</p> <ul> <li>The Administrator can set limits at the Project level. Example: Project <code>team-a</code> can only run <code>interactive</code> Jobs on machines with a label of <code>v-100</code> or <code>a-100</code>. See <a href=../../../admin/admin-ui-setup/project-setup/#limit-jobs-to-run-on-specific-node-groups>Project Setup</a> for more information.</li> <li>The Researcher can set a limit at the Job level, by using the command-line interface flag <code>--node-type</code>. The flag acts as a subset to the Project setting. </li> </ul> <p>Node affinity constraints are used during the <em>Allocation</em> phase to filter out candidate nodes for running the Job. For more information on how nodes are filtered see the <code>Filtering</code> section under <a href=https://kubernetes.io/docs/concepts/scheduling-eviction/kube-scheduler/#kube-scheduler-implementation target=_blank>Node selection in kube-scheduler</a>. The Run:AI scheduler works similarly.</p> <h3 id=reclaim>Reclaim<a class=headerlink href=#reclaim title="Permanent link">&para;</a></h3> <p>During the above process, there may be a pending workload whose Project is below the deserved capacity. Still, it cannot be allocated due to the lack of GPU resources. The scheduler will then look for alternative allocations at the expense of another Project which has gone over-quota while preserving fairness between Projects.</p> <h3 id=fairness>Fairness<a class=headerlink href=#fairness title="Permanent link">&para;</a></h3> <p>The Run:AI scheduler determines fairness between multiple over-quota Projects according to their GPU quota. Consider for example two Projects, each spawning a significant amount of workloads (e.g. for Hyperparameter tuning) all of which wait in the queue to be executed. The Run:AI Scheduler allocates resources while preserving fairness between the different Projects regardless of the time they entered the system. The fairness works according to the <strong>relative portion of the GPU quota for each Project.</strong> To further illustrate that, suppose that:</p> <ul> <li>Project A has been allocated with a quota of 3 GPUs.</li> <li>Project B has been allocated with a quota of 1 GPU.</li> </ul> <p>Then, if both Projects go over quota, Project A will receive 75% (=3/(1+3)) of the idle GPUs and Project B will receive 25% (=1/(1+3)) of the idle GPUs. This ratio will be recalculated every time a new Job is submitted to the system or an existing Job ends.</p> <p>This fairness equivalence will also be maintained amongst <strong>running</strong> Jobs. The scheduler will preempt training sessions to maintain this equivalence </p> <h3 id=bin-packing-consolidation>Bin-packing &amp; Consolidation<a class=headerlink href=#bin-packing-consolidation title="Permanent link">&para;</a></h3> <p>Part of an efficient scheduler is the ability to eliminate fragmentation:</p> <ul> <li>The first step in avoiding fragmentation is bin packing: try and fill nodes (machines) up before allocating workloads to new machines.</li> <li>The next step is to consolidate Jobs on demand. If a workload cannot be allocated due to fragmentation, the scheduler will try and move unattended workloads from node to node in order to get the required amount of GPUs to schedule the pending workload.</li> </ul> <h3 id=elasticity>Elasticity<a class=headerlink href=#elasticity title="Permanent link">&para;</a></h3> <p>Run:AI Elasticity is explained <a href=../../researcher-library/rl-elasticity/ >here</a>. In essence, it allows unattended workloads to shrink or expand based on the cluster's availability.</p> <ul> <li>Shrinking happens when the scheduler is unable to schedule an elastic unattended workload and no amount of <em>consolidation</em> helps. The scheduler then divides the requested GPUs by half again and again and tries to reschedule.</li> <li>Shrink Jobs will expand when enough GPUs will be available.</li> <li>Expanding happens when the scheduler finds spare GPU resources, enough to double the amount of GPUs for an elastic workload.</li> </ul> <h2 id=advanced>Advanced<a class=headerlink href=#advanced title="Permanent link">&para;</a></h2> <h3 id=gpu-fractions>GPU Fractions<a class=headerlink href=#gpu-fractions title="Permanent link">&para;</a></h3> <p>Run:AI provides a Fractional GPU sharing system for containerized workloads on Kubernetes. The system supports workloads running CUDA programs and is especially suited for lightweight AI tasks such as inference and model building. The fractional GPU system transparently gives data science and AI engineering teams the ability to run multiple workloads simultaneously on a single GPU.</p> <p>Run:AI’s fractional GPU system effectively creates logical GPUs, with their own memory and computing space that containers can use and access as if they were self-contained processors. </p> <p>One important thing to note is that fraction scheduling divides up <strong>GPU memory</strong>. As such the GPU memory is divided up between Jobs. If a Job asks for 0.5 GPU, and the GPU has 32GB of memory, then the Job will see only 16GB. An attempt to allocate more than 16GB will result in an out-of-memory exception.</p> <p>GPU Fractions are scheduled as regular GPUs in the sense that:</p> <ul> <li>Allocation is made using fractions such that the total of the GPU allocation for a single GPU is smaller or equal to 1.</li> <li>Preemption is available for non-interactive workloads. </li> <li>Bin-packing &amp; Consolidation work the same for fractions.</li> </ul> <p>Support: </p> <ul> <li>Elasticity is not supported with fractions.</li> <li>Hyperparameter Optimization supports fractions. </li> </ul> <h3 id=distributed-training>Distributed Training<a class=headerlink href=#distributed-training title="Permanent link">&para;</a></h3> <p>Distributed Training, is the ability to split the training of a model among multiple processors. It is often a necessity when multi-GPU training no longer applies; typically when you require more GPUs than exist on a single node. Each such split is a <em>pod</em> (see definition above). Run:AI spawns an additional <em>launcher</em> process that manages and coordinates the other worker pods.</p> <p>Distribute Training utilizes a practice sometimes known as <strong>Gang Scheduling</strong>:</p> <ul> <li>The scheduler must ensure that multiple pods are started on what are typically multiple Nodes before the Job can start. </li> <li>If one pod is preempted, the others are also immediately preempted.</li> </ul> <p>Gang Scheduling essentially prevents scenarios where part of the pods are scheduled while other pods belonging to the same Job are pending for resources to become available; scenarios that can cause deadlock situations and major inefficiencies in cluster utilization. </p> <p>The Run:AI system provides:</p> <ul> <li>Inter-pod communication. </li> <li>Command-line interface to access logs and an interactive shell. </li> </ul> <p>For more information on Distributed Training in Run:AI see <a href=../../Walkthroughs/walkthrough-distributed-training/ >here</a></p> <h3 id=hyperparameter-optimization>Hyperparameter Optimization<a class=headerlink href=#hyperparameter-optimization title="Permanent link">&para;</a></h3> <p>Hyperparameter optimization (HPO) is the process of choosing a set of optimal hyperparameters for a learning algorithm. A hyperparameter is a parameter whose value is used to control the learning process, to define the model architecture or the data pre-processing process, etc. Example hyperparameters: learning rate, batch size, different optimizers, number of layers.</p> <p>To search for good hyperparameters, Researchers typically start a series of small runs with different hyperparameter values, let them run for a while, and then examine results to decide what works best.</p> <p>With HPO, the Researcher provides a single script that is used with multiple, varying, parameters. Each run is a <em>pod</em> (see definition above). Unlike Gang Scheduling, with HPO, pods are <strong>independent</strong>. They are scheduled independently, started, and end independently, and if preempted, the other pods are unaffected. The scheduling behavior for individual pods is exactly as described in the Scheduler Details section above for Jobs. </p> <p>For more information on Hyperparameter Optimization in Run:AI see <a href=../../Walkthroughs/walkthrough-hpo/ >here</a></p> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">August 6, 2021</span> </small> </div> </article> </div> </div> </main> </div> <script src=../../../assets/javascripts/vendor.08c56446.min.js></script> <script src=../../../assets/javascripts/bundle.6ced434e.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <!-- Start of Swagger custom style. Should be before /body which is why its in scripts --> <link rel=stylesheet href=../../../stylesheets/theme-outline.css> <!-- End of  Swagger custom style --> </body> </html>