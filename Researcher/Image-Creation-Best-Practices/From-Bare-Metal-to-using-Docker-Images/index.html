<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=../../../images/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.4.0"><title>From Bare-Metal to using Docker Images - Run:AI Documentation Library</title><link rel=stylesheet href=../../../assets/stylesheets/main.fe0cca5b.min.css><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-122651141-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#introduction class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../../.. title="Run:AI Documentation Library" class="md-header-nav__button md-logo" aria-label="Run:AI Documentation Library"> <img src=../../../images/runai-logo.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Run:AI Documentation Library </span> <span class="md-header-nav__topic md-ellipsis"> From Bare-Metal to using Docker Images </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../Administrator/Cluster-Setup/Cluster-Setup-Start-Here/ class=md-tabs__link> Administrator </a> </li> <li class=md-tabs__item> <a href=../../Walkthroughs/Run-AI-Walkthroughs/ class=md-tabs__link> Researcher </a> </li> <li class=md-tabs__item> <a href=../../../Product/Whats-New/ class=md-tabs__link> Product </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Run:AI Documentation Library" class="md-nav__button md-logo" aria-label="Run:AI Documentation Library"> <img src=../../../images/runai-logo.svg alt=logo> </a> Run:AI Documentation Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Administrator <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Administrator data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Administrator </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-1 type=checkbox id=nav-2-1> <label class=md-nav__link for=nav-2-1> Cluster Setup <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Cluster Setup" data-md-level=2> <label class=md-nav__title for=nav-2-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Cluster Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Cluster-Setup-Start-Here/ title="Cluster Setup - Start Here" class=md-nav__link> Cluster Setup - Start Here </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Run-AI-GPU-Cluster-Prerequisites/ title="Cluster Prerequisites" class=md-nav__link> Cluster Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Installing-Run-AI-on-an-on-premise-Kubernetes-Cluster/ title="Cluster Installation" class=md-nav__link> Cluster Installation </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Troubleshooting-a-Run-AI-Cluster-Installation/ title="Troubleshooting a Cluster Installation" class=md-nav__link> Troubleshooting a Cluster Installation </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Upgrading-and-Deleting-a-Run-AI-Cluster-Installation/ title="Upgrading and Deleting a Cluster Installation" class=md-nav__link> Upgrading and Deleting a Cluster Installation </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Exposing-Cluster-Services-via-Ingress/ title="Configuring an Ingress Service" class=md-nav__link> Configuring an Ingress Service </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Exposing-Ports-from-Researcher-Containers-using-Ingress/ title="Exposing Ports from Containers using Ingress" class=md-nav__link> Exposing Ports from Containers using Ingress </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Installing-Run-AI-with-an-Internet-Proxy-Server-/ title="Configuring an Internet Proxy Server" class=md-nav__link> Configuring an Internet Proxy Server </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Kubernetes-Cluster-Configuration-Best-Practices/ title="Kubernetes Cluster Configuration Best Practices" class=md-nav__link> Kubernetes Cluster Configuration Best Practices </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Cluster-Setup/Use-OpenID-Connect-LDAP-or-SAML-for-Authentication-and-Authorization-/ title="Authentication and Authorization" class=md-nav__link> Authentication and Authorization </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> Researcher Setup <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Researcher Setup" data-md-level=2> <label class=md-nav__title for=nav-2-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Researcher Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Administrator/Researcher-Setup/Researcher-Setup-Start-Here/ title="Researcher Setup - Start Here" class=md-nav__link> Researcher Setup - Start Here </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Researcher-Setup/Installing-the-Run-AI-Command-Line-Interface/ title="Installing the Run:AI Command Line Interface" class=md-nav__link> Installing the Run:AI Command Line Interface </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Researcher-Setup/Troubleshooting-a-CLI-installation/ title="Troubleshooting a CLI installation" class=md-nav__link> Troubleshooting a CLI installation </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Researcher-Setup/Limit-a-Workload-to-a-Specific-Node-Group/ title="Limit a Workload to a Specific Node Group" class=md-nav__link> Limit a Workload to a Specific Node Group </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Researcher-Setup/Using-a-Docker-Registry-with-Credentials/ title="Using a Docker Registry with Credentials" class=md-nav__link> Using a Docker Registry with Credentials </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Researcher-Setup/Switch-from-working-with-Docker-to-working-with-Run-AI-/ title="Switch from working with Docker to working with Run:AI" class=md-nav__link> Switch from working with Docker to working with Run:AI </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Researcher-Setup/Limit-the-Run-AI-Scheduler-to-Specific-GPUs-in-Specific-Nodes/ title="Limit the Run:AI Scheduler to Specific GPUs in Specific Nodes" class=md-nav__link> Limit the Run:AI Scheduler to Specific GPUs in Specific Nodes </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Researcher-Setup/Configure-Command-Line-Interface-Templates/ title="Configure Command Line Interface Templates" class=md-nav__link> Configure Command Line Interface Templates </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-3 type=checkbox id=nav-2-3> <label class=md-nav__link for=nav-2-3> Presentations <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Presentations data-md-level=2> <label class=md-nav__title for=nav-2-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Presentations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Administrator/Presentations/Administrator-Onboarding-Presentation/ title="Administrator Onboarding Presentation" class=md-nav__link> Administrator Onboarding Presentation </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-4 type=checkbox id=nav-2-4> <label class=md-nav__link for=nav-2-4> Admin User Interface Setup <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Admin User Interface Setup" data-md-level=2> <label class=md-nav__title for=nav-2-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Admin User Interface Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Administrator/Admin-User-Interface-Setup/Working-with-Projects/ title="Working with Projects" class=md-nav__link> Working with Projects </a> </li> <li class=md-nav__item> <a href=../../../Administrator/Admin-User-Interface-Setup/Adding-Updating-and-Deleting-Admin-UI-Users/ title="Adding, Updating and Deleting Admin UI Users" class=md-nav__link> Adding, Updating and Deleting Admin UI Users </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-5 type=checkbox id=nav-2-5> <label class=md-nav__link for=nav-2-5> Miscellaneous <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Miscellaneous data-md-level=2> <label class=md-nav__title for=nav-2-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Miscellaneous </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Administrator/Miscellaneous/Launch-Workloads-using-Rancher-User-Interface/ title="Adding, Updating and Deleting Admin UI Users" class=md-nav__link> Adding, Updating and Deleting Admin UI Users </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Researcher <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Researcher data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Researcher </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> Walkthroughs <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Walkthroughs data-md-level=2> <label class=md-nav__title for=nav-3-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Walkthroughs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Walkthroughs/Run-AI-Walkthroughs/ title="Run:AI Walkthroughs" class=md-nav__link> Run:AI Walkthroughs </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/Walkthrough-Start-and-Use-Interactive-Build-Workloads-/ title="Walkthrough: Start and Use Interactive Build Workloads" class=md-nav__link> Walkthrough: Start and Use Interactive Build Workloads </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/Walkthrough-Launch-an-Interactive-Build-Workload-with-Connected-Ports/ title="Walkthrough: Launch an Interactive Build Workload with Connected Ports" class=md-nav__link> Walkthrough: Launch an Interactive Build Workload with Connected Ports </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/Walkthrough-Launch-Unattended-Training-Workloads-/ title="Walkthrough: Launch Unattended Training Workloads" class=md-nav__link> Walkthrough: Launch Unattended Training Workloads </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/Walkthrough-Using-GPU-Fractions/ title="Walkthrough: Using GPU Fractions" class=md-nav__link> Walkthrough: Using GPU Fractions </a> </li> <li class=md-nav__item> <a href=../../Walkthroughs/Walkthrough-Running-Distributed-Training/ title="Walkthrough: Running Distributed Training" class=md-nav__link> Walkthrough: Running Distributed Training </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> Command Line Interface - API Reference <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Command Line Interface - API Reference" data-md-level=2> <label class=md-nav__title for=nav-3-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Command Line Interface - API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/Introduction/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-bash/ title="runai bash" class=md-nav__link> runai bash </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-exec/ title="runai exec" class=md-nav__link> runai exec </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-delete/ title="runai delete" class=md-nav__link> runai delete </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-get/ title="runai get" class=md-nav__link> runai get </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-list/ title="runai list" class=md-nav__link> runai list </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-logs/ title="runai logs" class=md-nav__link> runai logs </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-submit/ title="runai submit" class=md-nav__link> runai submit </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-submit-mpi/ title="runai submit-mpi" class=md-nav__link> runai submit-mpi </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-top-node/ title="runai top node" class=md-nav__link> runai top node </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-update/ title="runai update" class=md-nav__link> runai update </a> </li> <li class=md-nav__item> <a href=../../Command-Line-Interface-API-Reference/runai-template/ title="runai template" class=md-nav__link> runai template </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3> <label class=md-nav__link for=nav-3-3> Command Line Interface <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Command Line Interface" data-md-level=2> <label class=md-nav__title for=nav-3-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Command Line Interface </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Command-Line-Interface/Automatically-Delete-Jobs-After-Job-Finish/ title="Automatically Delete Jobs After Job Finish" class=md-nav__link> Automatically Delete Jobs After Job Finish </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4 type=checkbox id=nav-3-4 checked> <label class=md-nav__link for=nav-3-4> Image Creation Best Practices <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Image Creation Best Practices" data-md-level=2> <label class=md-nav__title for=nav-3-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Image Creation Best Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> From Bare-Metal to using Docker Images <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="From Bare-Metal to using Docker Images" class="md-nav__link md-nav__link--active"> From Bare-Metal to using Docker Images </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#why-use-docker-images class=md-nav__link> Why Use Docker Images? </a> </li> <li class=md-nav__item> <a href=#moving-a-data-science-environment-to-docker class=md-nav__link> Moving a Data Science Environment to Docker </a> <nav class=md-nav aria-label="Moving a Data Science Environment to Docker"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#training-data class=md-nav__link> Training data </a> </li> <li class=md-nav__item> <a href=#machine-learning-code-and-inputs class=md-nav__link> Machine Learning Code and Inputs </a> </li> <li class=md-nav__item> <a href=#code-dependencies class=md-nav__link> Code Dependencies </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ml-lifecycle-build-and-train class=md-nav__link> ML Lifecycle: Build and Train </a> <nav class=md-nav aria-label="ML Lifecycle: Build and Train"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#build-workloads class=md-nav__link> Build Workloads </a> </li> <li class=md-nav__item> <a href=#training-workloads class=md-nav__link> Training Workloads </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Converting-your-Workload-to-use-Unattended-Training-Execution/ title="Converting your Workload to use Unattended " training&quot; execution&quot; class=md-nav__link> Converting your Workload to use Unattended "Training" Execution </a> </li> <li class=md-nav__item> <a href=../Saving-Deep-Learning-Checkpoints/ title="Saving Deep Learning Checkpoints" class=md-nav__link> Saving Deep Learning Checkpoints </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-5 type=checkbox id=nav-3-5> <label class=md-nav__link for=nav-3-5> Presentations <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Presentations data-md-level=2> <label class=md-nav__title for=nav-3-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Presentations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Presentations/Researcher-Onboarding-Presentation/ title="Researcher Onboarding Presentation" class=md-nav__link> Researcher Onboarding Presentation </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-6 type=checkbox id=nav-3-6> <label class=md-nav__link for=nav-3-6> Scheduling <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Scheduling data-md-level=2> <label class=md-nav__title for=nav-3-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Scheduling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Scheduling/Allocation-of-CPU-and-Memory/ title="Allocation of CPU and Memory" class=md-nav__link> Allocation of CPU and Memory </a> </li> <li class=md-nav__item> <a href=../../Scheduling/The-Run-AI-Scheduler/ title="The Run:AI Scheduler" class=md-nav__link> The Run:AI Scheduler </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-7 type=checkbox id=nav-3-7> <label class=md-nav__link for=nav-3-7> Run:AI Researcher Library <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Run:AI Researcher Library" data-md-level=2> <label class=md-nav__title for=nav-3-7> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Run:AI Researcher Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Run-AI-Researcher-Library/The-Run-AI-Researcher-Library/ title="The Run:AI Researcher Library" class=md-nav__link> The Run:AI Researcher Library </a> </li> <li class=md-nav__item> <a href=../../Run-AI-Researcher-Library/Elasticity-Dynamically-Stretch-Compress-Jobs-According-to-GPU-Availability/ title="Elasticity: Dynamically Stretch/Compress Jobs According to GPU Availability" class=md-nav__link> Elasticity: Dynamically Stretch/Compress Jobs According to GPU Availability </a> </li> <li class=md-nav__item> <a href=../../Run-AI-Researcher-Library/Reporting-via-the-Run-AI-Researcher-Library-/ title="Reporting via the Run:AI Researcher Library" class=md-nav__link> Reporting via the Run:AI Researcher Library </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Product <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Product data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Product </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Product/Whats-New/ title="Whats New" class=md-nav__link> Whats New </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#why-use-docker-images class=md-nav__link> Why Use Docker Images? </a> </li> <li class=md-nav__item> <a href=#moving-a-data-science-environment-to-docker class=md-nav__link> Moving a Data Science Environment to Docker </a> <nav class=md-nav aria-label="Moving a Data Science Environment to Docker"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#training-data class=md-nav__link> Training data </a> </li> <li class=md-nav__item> <a href=#machine-learning-code-and-inputs class=md-nav__link> Machine Learning Code and Inputs </a> </li> <li class=md-nav__item> <a href=#code-dependencies class=md-nav__link> Code Dependencies </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ml-lifecycle-build-and-train class=md-nav__link> ML Lifecycle: Build and Train </a> <nav class=md-nav aria-label="ML Lifecycle: Build and Train"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#build-workloads class=md-nav__link> Build Workloads </a> </li> <li class=md-nav__item> <a href=#training-workloads class=md-nav__link> Training Workloads </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>From Bare-Metal to using Docker Images</h1> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>Some researchers do data-science on <em>bare metal</em>. The term bare-metal relates to connecting to a server and working directly on its operating system and disks.</p> <p>This is the fastest way to start working, but it introduces problems when the data science organization scales:</p> <ul> <li>More researchers mean that the machine resources need to be efficiently shared</li> <li>Researchers need to collaborate and share data, code, and results</li> </ul> <p>To overcome that, people working on bare-metal typically write scripts to gather data, code and code dependencies. This soon becomes an overwhelming task.</p> <h2 id=why-use-docker-images>Why Use Docker Images?<a class=headerlink href=#why-use-docker-images title="Permanent link">&para;</a></h2> <p>Docker images and 'containerization' in general provide a level of abstraction which, by large, frees developers and researchers from the mundane tasks of 'setting up an environment'. The image is an operating system by itself and thus the 'environment' is by large, a part of the image.</p> <p>When a docker image is instantiated, it creates a <em>container</em>. A container is the running manifestation of a docker image.</p> <h2 id=moving-a-data-science-environment-to-docker>Moving a Data Science Environment to Docker<a class=headerlink href=#moving-a-data-science-environment-to-docker title="Permanent link">&para;</a></h2> <p>A data science environment typically includes:</p> <li>Training data</li> <li>Machine Learning (ML) code and inputs</li> <li>Libraries: Code dependencies that must be installed before the ML code can be run</li> <h3 id=training-data>Training data<a class=headerlink href=#training-data title="Permanent link">&para;</a></h3> <p>Training data is usually significantly large (from several Gigabytes to Petabytes) and is read-only in nature. Thus, training data is typically left outside of the docker image. Instead, the data is <em>mounted</em> onto the image when it is instantiated. Mounting a volume allows the code within the container to access the data as though it was within a directory on the local file system.</p> <p>The best practice is to store the training data on a shared file system. This allows the data to be accessed uniformly on whichever machine the researcher is currently using, allowing the researcher to easily migrate between machines. </p> <p>Organizations without a shared file system typically write scripts to copy data from machine to machine.</p> <h3 id=machine-learning-code-and-inputs>Machine Learning Code and Inputs<a class=headerlink href=#machine-learning-code-and-inputs title="Permanent link">&para;</a></h3> <p>As a rule, code needs to be saved and versioned in a <strong>code repository</strong>.</p> <p>There are two alternative practices:</p> <ul> <li>The code resides in the image and is being periodically pulled from the repository. This practice requires building a new container image each time a change is introduced to the code.</li> <li>When a shared file system exists, the code can reside outside the image on a shared disk and mounted via a volume onto the container. </li> </ul> <p>Both practices are valid.</p> <p>Inputs to machine learning models and artifacts of training sessions, like model checkpoints, are also better stored in and loaded from a shared file system.</p> <h3 id=code-dependencies>Code Dependencies<a class=headerlink href=#code-dependencies title="Permanent link">&para;</a></h3> <p>Any code has code dependencies. These libraries must be installed for the code to run. As the code is changing, so do the dependencies.</p> <p>ML Code is typically python and python dependencies are typically declared together in a single <em>requirements.txt</em> file which is saved together with the code.</p> <p>The best practice is to have your docker startup script (see below) run this file using <em>pip install -r requirements.txt</em>. This allows the flexibility of adding and removing code dependencies dynamically.</p> <h2 id=ml-lifecycle-build-and-train>ML Lifecycle: Build and Train<a class=headerlink href=#ml-lifecycle-build-and-train title="Permanent link">&para;</a></h2> <p>Deep learning workloads can be divided into two generic types:</p> <li>Interactive "build" sessions. With these types of workloads, the data scientist opens an interactive session, via bash, Jupyter Notebook, remote PyCharm or similar and accesses GPU resources directly. Build workloads are typically meant for debug and development sessions. </li> <li>Unattended "training" sessions. <span>Training is characterized by a machine learning run that has a start and a finish. </span>With these types of workloads, the data scientist prepares a self-running workload and sends it for execution. During the execution, the data scientist can examine the results<span>. A Train session can take from a few minutes to a couple of days. It can be interrupted in the middle and later restored (though the data scientist should save checkpoints for that purpose). Training workloads typically utilize large percentages of the GPU and at the end of the run automatically frees the resources.</span> </li> <p>Getting your docker ready is also a matter of which type of workload you are </font>currently running.</p> <h3 id=build-workloads>Build Workloads<a class=headerlink href=#build-workloads title="Permanent link">&para;</a></h3> <p>With "build" you are actually coding and debugging small experiments. You are<span> </span><strong>interactive</strong>. In that mode, you can typically take a well known standard image (e.g. <a data-saferedirecturl="https://www.google.com/url?q=https://ngc.nvidia.com/catalog/containers/nvidia:tensorflow&source=gmail&ust=1592498144070000&usg=AFQjCNGTAief8-leIAVR4wSzfzvkGEphDA" href=https://ngc.nvidia.com/catalog/containers/nvidia:tensorflow rel=noopener target=_blank>https://ngc.nvidia.com/<wbr>catalog/containers/nvidia:<wbr>tensorflow</a>) and use it directly.</p> <p>Start a docker container by running:</p> <pre><code>docker run -it .... "the well known image" -v /where/my/code/resides bash </code></pre> <p>You get a shell prompt to a container with a mounted volume of where your code is. You can then install your prerequisites and run your code via ssh.</p> <p>You can also access the container remotely from tools such as PyCharm, Jupyter Notebook and more. In this case, the docker image needs to be customized to install the "server software" (e.g. a Jupyter Notebook service).</p> <h3 id=training-workloads>Training Workloads<a class=headerlink href=#training-workloads title="Permanent link">&para;</a></h3> <p>For training workloads you can use a well-known image (e.g. nvidia-tensorflow image from the link above) but more often then not, you want to create your own docker image. The best practice is to use the well-known image (e.g. nvidia-tensorflow from above) as a <strong>base image</strong> and add your own customizations <strong>on top</strong> of it. To achieve that, you create a<span> </span><em>Dockerfile. A </em>Dockerfile is a declarative way to build a docker image and is built in layers. e.g.:</p> <ol><li>Base image is nvidia-tensorflow</li> <li>Install popular software</li> <li>(Optional) Run a script</li> </ol> <p>The script can be part of the image or can be provided as part of the command line to run the docker. It will typically include additional dependencies to install as well as a reference to the ML code to be run. </p> <p>Best practice for running training workloads is to test the container image in a "build" session and then send it for execution as a training job. For further information on how to set up and parameterize a training workload via docker or runai see <a href=../Converting-your-Workload-to-use-Unattended-Training-Execution/ >Converting your Workload to use Unattended Training Execution</a>.</p> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 20, 2020</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../../Command-Line-Interface/Automatically-Delete-Jobs-After-Job-Finish/ title="Automatically Delete Jobs After Job Finish" class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Automatically Delete Jobs After Job Finish </div> </div> </a> <a href=../Converting-your-Workload-to-use-Unattended-Training-Execution/ title="Converting your Workload to use Unattended " training&quot; execution&quot; class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Converting your Workload to use Unattended "Training" Execution </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> All rights reserved Run:AI 2020 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://twitter.com/runailabs target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://linkedin.com/company/runailabs/ target=_blank rel=noopener title=linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../../../assets/javascripts/bundle.b39636ac.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>